!function e(n,t,i){function r(a,s){if(!t[a]){if(!n[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);throw new Error("Cannot find module '"+a+"'")}var c=t[a]={exports:{}};n[a][0].call(c.exports,function(e){var t=n[a][1][e];return r(t?t:e)},c,c.exports,e,n,t,i)}return t[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(e,n,t){var i={clickY:0,mainScroll:null,init:function(){var e=this;e.setContMinHeight(),e.getMenuData(),$(window).on("resize",function(){e.setContMinHeight()}),e.bindEvents()},setContMinHeight:function(){var e=this,n=$(window).height()-$("#J-header").outerHeight()-$("#J-footer").outerHeight();$("#J-sidebar, #J-container, #J-submenu-wrap").height(n),e.mainScroll&&e.mainScroll.refresh()},getMenuData:function(){var e=this;$.ajax({type:"get",dataType:"json",url:"dist/data/menu.json",success:function(n){e.createMenu(e.processData(n.data))},error:function(){console.log("获取用户菜单列表失败")}})},processData:function(e){var n=[],t=function(e,n,i){$.each(n,function(r,o){"undefined"==typeof o.submenu&&(o.submenu=[]),o.parent_id==e&&(i.push(o),t(o.id,n,o.submenu))})};return t(0,e,n),n},createMenu:function(e){var n=H.template($("#J-menu-tpl").html(),{items:e});$("#J-sidebar").html(n),this.mainScroll=new iScroll("J-sidebar",{snap:"li",bounce:!1,bounceLock:!1,momentum:!0,hideScrollbar:!0,onBeforeScrollStart:function(e){e.preventDefault()}})},bindEvents:function(){$(document).on("click","#J-s-menu-cls-one div.J-item-cls-one-inner",function(e){var n=($(this),$("#J-sidebar"),$(this).parent());n.hasClass("active")?n.removeClass("active").find("ul.J-s-menu-cls-two").slideUp(100,function(){i.mainScroll&&i.mainScroll.refresh()}):n.addClass("active").find("ul.J-s-menu-cls-two").slideDown(100,function(){i.mainScroll&&i.mainScroll.refresh()}).end().siblings().removeClass("active").find("ul.J-s-menu-cls-two").hide()}).on("click","#J-submenu-wrap div.J-can-open",function(e){var n=$(this),t=function(){i.subScroll&&i.subScroll.refresh()};n.hasClass("active")?n.removeClass("active").next().slideUp(50,t):n.addClass("active").next().slideDown(50,t)}).on("click","#J-sidebar a, #J-submenu-wrap a",function(e){"_blank"!=e.target.target&&e.preventDefault()}).on("mousedown","#J-sidebar a, #J-submenu-wrap a",function(e){i.clickY=e.pageY}).on("mouseup","#J-sidebar a, #J-submenu-wrap a",function(e){Math.abs(i.clickY-e.pageY)<50&&"_blank"!=e.target.target&&(window.frames[e.target.target].location.href=e.target.href+"?token="+H.Cookie.get("userToken"))})}};$(function(){i.init()})},{}]},{},[1]);