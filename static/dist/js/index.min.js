!function e(n,t,a){function r(o,l){if(!t[o]){if(!n[o]){var s="function"==typeof require&&require;if(!l&&s)return s(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var c=t[o]={exports:{}};n[o][0].call(c.exports,function(e){var t=n[o][1][e];return r(t?t:e)},c,c.exports,e,n,t,a)}return t[o].exports}for(var i="function"==typeof require&&require,o=0;o<a.length;o++)r(a[o]);return r}({1:[function(e,n,t){"use strict";var a={clickY:0,mainScroll:null,tabScroll:null,init:function(){var e=this;e.setContMinHeight(),e.getMenuData(),e.tabScroll=new iScroll("J-frame-tab",{snap:"li",bounce:!1,bounceLock:!1,momentum:!0,hideScrollbar:!0,hScroll:!0,vScroll:!1,hScrollbar:!1,vScrollbar:!1,onBeforeScrollStart:function(e){e.preventDefault()}}),e.bindEvents()},setContMinHeight:function(){var e=this,n=$(window).height()-$("#J-header").outerHeight()-$("#J-footer").outerHeight(),t=n-$("#J-frame-tab").outerHeight();$("#J-sidebar, #J-submenu-wrap").height(n),$("#J-container").height(t),e.mainScroll&&e.mainScroll.refresh()},getMenuData:function(){var e=this;$.ajax({type:"get",dataType:"json",url:"dist/data/menu.json",success:function(n){e.createMenu(e.processData(n.data))},error:function(){console.log("获取用户菜单列表失败")}})},processData:function(e){var n=[],t=function(e,n,a){$.each(n,function(r,i){"undefined"==typeof i.submenu&&(i.submenu=[]),i.parent_id==e&&(a.push(i),t(i.id,n,i.submenu))})};return t(0,e,n),n},createMenu:function(e){var n=H.template($("#J-menu-tpl").html(),{items:e});$("#J-sidebar").html(n),this.mainScroll=new iScroll("J-sidebar",{snap:"li",bounce:!1,bounceLock:!1,momentum:!0,hideScrollbar:!0,onBeforeScrollStart:function(e){e.preventDefault()}})},showPage:function(e){var n=this;if(window.frames[e.target]){var t=$("#J-frame-tab").find("li[data-name="+e.target+"]");t.addClass("active").siblings().removeClass("active"),n.tabScroll&&n.tabScroll.scrollToElement(t[0]),window.frames[e.target].location.href=e.href+"?token="+H.Cookie.get("userToken")}else{var a=document.createElement("iframe"),r=$("#J-frame-tab").find("ul.inner"),i=H.Storage.get("version");a.className="iframe",a.frameborder=0,a.scrolling="auto",a.name=e.target,a.src=e.href+"?token="+H.Cookie.get("userToken")+"&v="+i,$("#J-container").append(a),r.find("li").removeClass("active"),r.append('<li class="item active" data-name="'+e.target+'">'+e.name+"</li>").width(r.find("li").length*r.find("li").outerWidth()),n.tabScroll&&n.tabScroll.refresh(),n.tabScroll&&n.tabScroll.scrollToElement(r.find("li").last()[0])}$("#J-container").find("iframe").hide(),$("#J-container").find("iframe[name="+e.target+"]").show()},bindEvents:function(){var e=this;$(window).on("resize",function(){e.setContMinHeight()}),$(document).on("mouseover","#J-sidebar li",function(e){var n=$(this);n.addClass("active"),n.hasClass("J-has-submenu")?($("#J-submenu-wrap").show().html(n.find("ul.J-submenu").clone()),a.subScroll=null,a.subScroll=new iScroll("J-submenu-wrap",{snap:"li",bounce:!1,bounceLock:!1,momentum:!0,hideScrollbar:!0,onBeforeScrollStart:function(e){e.preventDefault()}})):$("#J-submenu-wrap").hide()}).on("mouseleave","#J-sidebar li",function(e){var n=$(this),t=e.toElement?$(e.toElement):$(e.relatedTarget);n.removeClass("active"),t.closest("#J-submenu-wrap").length<1&&$("#J-submenu-wrap").hide()}).on("mouseleave","#J-submenu-wrap",function(e){var n=$(e.toElement);n.closest("#J-sidebar li.J-has-submenu").length<1&&$(this).hide()}).on("click","#J-submenu-wrap div.J-can-open",function(e){var n=$(this),t=function(){a.subScroll&&a.subScroll.refresh()};n.hasClass("active")?n.removeClass("active").next().slideUp(50,t):n.addClass("active").next().slideDown(50,t)}).on("click","#J-sidebar a, #J-submenu-wrap a",function(e){"_blank"!=e.target.target&&e.preventDefault()}).on("mousedown","#J-sidebar a, #J-submenu-wrap a",function(e){a.clickY=e.pageY}).on("mouseup","#J-sidebar a, #J-submenu-wrap a, #J-link-change-pwd",function(n){Math.abs(a.clickY-n.pageY)<50&&"_blank"!=n.target.target&&e.showPage({target:n.target.target,href:n.target.href,name:n.target.name})}).on("mousedown","#J-frame-tab li",function(e){a.clickX=e.pageX}).on("mouseup","#J-frame-tab li",function(e){if(Math.abs(a.clickX-e.pageX)<50){var n=$(e.target);n.hasClass("active")||(n.addClass("active").siblings().removeClass("active"),$("#J-container").find("iframe").hide(),$("#J-container").find("iframe[name="+n.data("name")+"]").show())}}).on("dblclick","#J-frame-tab li",function(n){var t=$(n.target),a=t.parent();"home"!=t.data("name")&&(t.prev().addClass("active").end().remove(),a.width(a.find("li").length*a.find("li").outerWidth()),$("#J-container").find("iframe[name="+t.data("name")+"]").prev().show().end().remove(),e.tabScroll&&e.tabScroll.refresh())}),$(window).on("resize",function(){a.setContMinHeight()})}};$(function(){a.init()})},{}]},{},[1]);